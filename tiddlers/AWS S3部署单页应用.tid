created: 20210726125253753
modified: 20210726125532855
tags: AWS
title: AWS S3部署单页应用
type: text/vnd.tiddlywiki

部署方法：

* [[参考链接|https://www.mzkxs.com/?p=29]]

* 新建S3 bucket，新建时取消默认勾选的「禁止所有公开访问」选项

* 新建后在属性设置里，开啓静态网站託管选项

* 权限配置存储桶策略，允许公开读取

SPA单页应用走的是客户端路由，路由由前端JS程序控制，访问非根路径页面，如 `user` ，这个页面实质上并不存在，刷新页面，浏览器直接向这个路径发送GET请求，S3返回404错误，需要在属性里配置一个Error Page，设置爲首页 `index.html` ，刷新时S3捕获到404错误，带着路由参数访问首页，以此让前端程序正确跳转页面。